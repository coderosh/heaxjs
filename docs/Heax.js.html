<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Adding meta -->
    
      
        <meta name="author" content="Roshan Acharya" />
      
        <meta name="description" content="Verlet physics engine" />
      
    

    <!-- Adding external script-->
    

    <!-- Adding external style-->
    

    <!-- Adding scripts-->
    

    <!-- Adding style-->
    

    <!-- Adding overlay script-->
    

    <!-- Adding overlay style-->
    


    <title>Heax.js</title>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/third-party/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/third-party/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-base.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-light.css">
    
      <style>
        pre, code{font-family: monospace!important}
      </style>
    
<svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none">
    <defs>
        <symbol id="copy-icon" viewbox="0 0 488.3 488.3">
            <g>
                <path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/>
                <path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/>
            </g>
        </symbol>
    </defs>
</svg>

</head>
<body>
<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html"><div class="text">Heax Js</div></a></h2><div class="search-box"><input type="text" placeholder="Search..." id="search-box" /><div class="search-item-container" id="search-item-container"><ul class="search-item-ul" id="search-item-ul"></ul></div></div><div class="sidebar-list-div"><ul><li><a href='https://github.com/coderosh/heaxjs/' class='' id='' target='_blank'>Github</a></li><li><a href='https://coderosh.github.io/heaxjs/examples' class='' id='' target='_blank'>Examples</a></li></ul><h3>Classes</h3><ul><li class="accordion collapsed" id=4922383><div class="accordion-title"><a href="Composite.html">Composite</a><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
    <path 
        fill-rule="evenodd" 
        clip-rule="evenodd" 
        d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z">
    </path>
</svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Composite.html#addPoint">addPoint</a></li><li data-type='method'><a href="Composite.html#addStick">addStick</a></li><li data-type='method'><a href="Composite.html#hidePoints">hidePoints</a></li><li data-type='method'><a href="Composite.html#hideSticks">hideSticks</a></li><li data-type='method'><a href="Composite.html#render">render</a></li><li data-type='method'><a href="Composite.html#tear">tear</a></li><li data-type='method'><a href="Composite.html#update">update</a></li></ul></li><li class="accordion collapsed" id=4923773><div class="accordion-title"><a href="Heax.html">Heax</a><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
    <path 
        fill-rule="evenodd" 
        clip-rule="evenodd" 
        d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z">
    </path>
</svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Heax.html#box">box</a></li><li data-type='method'><a href="Heax.html#clear">clear</a></li><li data-type='method'><a href="Heax.html#cloth">cloth</a></li><li data-type='method'><a href="Heax.html#render">render</a></li><li data-type='method'><a href="Heax.html#rope">rope</a></li><li data-type='method'><a href="Heax.html#tire">tire</a></li><li data-type='method'><a href="Heax.html#update">update</a></li></ul></li><li class="accordion collapsed" id=9705160><div class="accordion-title"><a href="Mouse.html">Mouse</a><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
    <path 
        fill-rule="evenodd" 
        clip-rule="evenodd" 
        d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z">
    </path>
</svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Mouse.html#drag">drag</a></li><li data-type='method'><a href="Mouse.html#draw">draw</a></li><li data-type='method'><a href="Mouse.html#nearestPoint">nearestPoint</a></li></ul></li><li class="accordion collapsed" id=9801675><div class="accordion-title"><a href="Point.html">Point</a><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
    <path 
        fill-rule="evenodd" 
        clip-rule="evenodd" 
        d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z">
    </path>
</svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Point.html#constrain">constrain</a></li><li data-type='method'><a href="Point.html#render">render</a></li><li data-type='method'><a href="Point.html#update">update</a></li></ul></li><li class="accordion collapsed" id=4720647><div class="accordion-title"><a href="Stick.html">Stick</a><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
    <path 
        fill-rule="evenodd" 
        clip-rule="evenodd" 
        d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z">
    </path>
</svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Stick.html#render">render</a></li><li data-type='method'><a href="Stick.html#update">update</a></li></ul></li><li class="accordion collapsed" id=5069324><div class="accordion-title"><a href="Vector.html">Vector</a><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
    <path 
        fill-rule="evenodd" 
        clip-rule="evenodd" 
        d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z">
    </path>
</svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Vector.html#.sub">sub</a></li><li data-type='method'><a href="Vector.html#add">add</a></li><li data-type='method'><a href="Vector.html#copy">copy</a></li><li data-type='method'><a href="Vector.html#dist">dist</a></li><li data-type='method'><a href="Vector.html#length">length</a></li><li data-type='method'><a href="Vector.html#scale">scale</a></li><li data-type='method'><a href="Vector.html#sub">sub</a></li></ul></li></ul></div>
</nav>

<div id="main">
    
    <h1 id='page-title' class="page-title">Heax.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import Composite from "./Composite";
import Mouse from "./Mouse";
import Vector from "./Vector";

class Heax {
  /**
   * @param {HTMLCanvasElement} [canvas] - canvas element
   */
  constructor(canvas = document.querySelector("canvas")) {
    /**
     * @type {HTMLCanvasElement}
     * @description canvas element
     */
    this.canvas = canvas;

    /**
     * @type {CanvasRenderingContext2D}
     * @description canvas rendering 2d context
     */
    this.ctx = this.canvas.getContext("2d");

    /**
     * @type {number}
     * @description height of canvas
     */
    this.height = this.canvas.height;

    /**
     * @type {number}
     * @description width of canvas
     */
    this.width = this.canvas.width;

    /**
     * @type {number}
     * @description friction
     */
    this.friction = 0.999;

    /**
     * @type {number}
     * @description ground friction
     */
    this.groundFriction = 0.95;

    /**
     * @type {Vector}
     * @description gravity
     */
    this.gravity = new Vector(0, 0.5);

    /**
     * @type {number}
     * @description bounce
     */
    this.bounce = 0.9;

    /**
     * @type {Composite[]}
     * @description array of composites
     */
    this.composites = [];

    /**
     * @type {boolean}
     * @description true if the points should constrain by cavnas dimensions
     */
    this.cDC = false;

    /**
     * @type {Mouse}
     * @description mouse handler
     */
    this.mouse = new Mouse(this);
  }

  /**
   * Clear canvas
   */
  clear() {
    this.ctx.clearRect(0, 0, this.width, this.height);
  }

  /**
   * Render all composites
   */
  render() {
    for (const c of this.composites) {
      c.render();
    }
  }

  /**
   * Update all composites
   */
  update() {
    for (const c of this.composites) {
      c.update();
    }
  }

  /**
   * Create a box
   * @param {number} x - top left x coordinate
   * @param {number} y - top left y coordinate
   * @param {number} w  - width of box
   * @param {number} h - height of box
   * @param {Object} pInfo - point info
   * @param {Object} cInfo - stick info
   */
  box(x = 0, y = 0, w = 100, h = 100, pInfo, cInfo) {
    const box = new Composite(this);

    box.addPoint(x, y, x, y, pInfo);
    box.addPoint(x + w, y, x + w, h, pInfo);
    box.addPoint(x + w, y + h, x + w, y + h, pInfo);
    box.addPoint(x, y + h, x, y + h, pInfo);

    for (let i = 0; i &lt;= 3; i++) box.addStick(i, i == 3 ? 0 : i + 1, cInfo);

    box.addStick(1, 3, cInfo);
    box.addStick(0, 2, cInfo);

    this.composites.push(box);
    return box;
  }

  /**
   * Create a rope
   * @param {Function} posFn - function which returns position for points based in indexs
   * @param {number} segments - no of segments
   * @param {Object} pInfo - point info
   * @param {Object} cInfo - stick info
   */
  rope(posFn, segments = 15, pInfo, cInfo) {
    const rope = new Composite(this);

    posFn = posFn || ((i) => ({ x: 100 + i * 15, y: 100 + i * 15 }));

    for (let i = 0; i &lt; segments; i++) {
      let { x, y } = posFn(i);
      rope.addPoint(x, y, x, y, pInfo);
    }

    for (let i = 0; i &lt; segments - 1; i++) {
      rope.addStick(i, (i + 1) % segments, cInfo);
    }

    this.composites.push(rope);
    return rope;
  }

  /**
   * Create a cloth
   * @param {Vector} pos - position of top left end point
   * @param {number} width - width of cloth
   * @param {number} height - height of cloth
   * @param {number} segments - no of segments
   * @param {number} offset - pin offset
   * @param {Object} pInfo - point info
   * @param {Object} cInfo - stick info
   */
  cloth(
    pos = new Vector(50, 0),
    width = 250,
    height = 250,
    segments = 9,
    offset = 2,
    pInfo,
    cInfo
  ) {
    const cloth = new Composite(this);

    const sX = width / segments;
    const sY = height / segments;

    for (let y = 0; y &lt; segments; y++) {
      for (let x = 0; x &lt; segments; x++) {
        let px = pos.x + x * sX;
        let py = pos.y + y * sY;

        let point = cloth.addPoint(px, py, px, py, pInfo);

        // join current point and point before current point
        x === 0 || cloth.addStick(point, y * segments + x - 1, cInfo);

        // join current point and previous column point
        y === 0 || cloth.addStick(point, (y - 1) * segments + x, cInfo);

        y == 0 &amp;&amp; x % offset == 0 &amp;&amp; (point.pinned = true);
      }
    }

    this.composites.push(cloth);
    return cloth;
  }

  /**
   * Create a tire
   * @param {number} x - y coordinate of center of tire
   * @param {number} y - y coordinate of center of tire
   * @param {radius} r - radius of tire
   * @param {number} s - no of segments
   * @param {number} [rS] - stiffness of spoke
   * @param {number} [sS] - stiffness of surface
   * @param {Object} pInfo - point info
   * @param {Object} cInfo - stick info
   */
  tire(x = 100, y = 100, r = 50, s = 12, rS = 1, sS = 1, pInfo, cInfo) {
    const tire = new Composite(this);
    const step = (Math.PI * 2) / s;

    for (let i = 0; i &lt; s; i++) {
      const px = x + Math.cos(step * i) * r;
      const py = y + Math.sin(step * i) * r;
      tire.addPoint(px, py, px, py, pInfo);
    }

    const center = tire.addPoint(x, y, x, y, pInfo);

    for (let i = 0; i &lt; s; i++) {
      tire.addStick(i, (i + 1) % s, { ...cInfo, stiffness: sS });
      tire.addStick(i, center, { ...cInfo, stiffness: rS });
      tire.addStick(i, (i + (s === 5 ? 6 : 5)) % s, {
        ...cInfo,
        stiffness: sS,
      });
    }

    this.composites.push(tire);
    return tire;
  }
}

export default Heax;
</code></pre>
        </article>
    </section>




</div>

<footer id="footer">
  
</footer>

<script src="scripts/third-party/prettify.js"></script>
<script src="scripts/third-party/lang-css.js"></script>
<script src="scripts/search.js"></script>
<script src="scripts/third-party/fuse.js"></script>
<script type="text/javascript" src="scripts/misc.js"></script>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/fix-code-block.js"></script>
<script>
  var list = [{"title":"Composite","link":"<a href=\"Composite.html\">Composite</a>"},{"title":"Composite#addPoint","link":"<a href=\"Composite.html#addPoint\">Composite &rtrif; addPoint</a>"},{"title":"Composite#addStick","link":"<a href=\"Composite.html#addStick\">Composite &rtrif; addStick</a>"},{"title":"Composite#hidePoints","link":"<a href=\"Composite.html#hidePoints\">Composite &rtrif; hidePoints</a>"},{"title":"Composite#hideSticks","link":"<a href=\"Composite.html#hideSticks\">Composite &rtrif; hideSticks</a>"},{"title":"Composite#render","link":"<a href=\"Composite.html#render\">Composite &rtrif; render</a>"},{"title":"Composite#tear","link":"<a href=\"Composite.html#tear\">Composite &rtrif; tear</a>"},{"title":"Composite#update","link":"<a href=\"Composite.html#update\">Composite &rtrif; update</a>"},{"title":"Heax","link":"<a href=\"Heax.html\">Heax</a>"},{"title":"Heax#box","link":"<a href=\"Heax.html#box\">Heax &rtrif; box</a>"},{"title":"Heax#clear","link":"<a href=\"Heax.html#clear\">Heax &rtrif; clear</a>"},{"title":"Heax#cloth","link":"<a href=\"Heax.html#cloth\">Heax &rtrif; cloth</a>"},{"title":"Heax#render","link":"<a href=\"Heax.html#render\">Heax &rtrif; render</a>"},{"title":"Heax#rope","link":"<a href=\"Heax.html#rope\">Heax &rtrif; rope</a>"},{"title":"Heax#tire","link":"<a href=\"Heax.html#tire\">Heax &rtrif; tire</a>"},{"title":"Heax#update","link":"<a href=\"Heax.html#update\">Heax &rtrif; update</a>"},{"title":"Mouse","link":"<a href=\"Mouse.html\">Mouse</a>"},{"title":"Mouse#drag","link":"<a href=\"Mouse.html#drag\">Mouse &rtrif; drag</a>"},{"title":"Mouse#draw","link":"<a href=\"Mouse.html#draw\">Mouse &rtrif; draw</a>"},{"title":"Mouse#nearestPoint","link":"<a href=\"Mouse.html#nearestPoint\">Mouse &rtrif; nearestPoint</a>"},{"title":"Point","link":"<a href=\"Point.html\">Point</a>"},{"title":"Point#constrain","link":"<a href=\"Point.html#constrain\">Point &rtrif; constrain</a>"},{"title":"Point#render","link":"<a href=\"Point.html#render\">Point &rtrif; render</a>"},{"title":"Point#update","link":"<a href=\"Point.html#update\">Point &rtrif; update</a>"},{"title":"Stick","link":"<a href=\"Stick.html\">Stick</a>"},{"title":"Stick#render","link":"<a href=\"Stick.html#render\">Stick &rtrif; render</a>"},{"title":"Stick#update","link":"<a href=\"Stick.html#update\">Stick &rtrif; update</a>"},{"title":"Vector","link":"<a href=\"Vector.html\">Vector</a>"},{"title":"Vector.sub","link":"<a href=\"Vector.html#.sub\">Vector.sub &rtrif; undefined</a>"},{"title":"Vector#add","link":"<a href=\"Vector.html#add\">Vector &rtrif; add</a>"},{"title":"Vector#copy","link":"<a href=\"Vector.html#copy\">Vector &rtrif; copy</a>"},{"title":"Vector#dist","link":"<a href=\"Vector.html#dist\">Vector &rtrif; dist</a>"},{"title":"Vector#length","link":"<a href=\"Vector.html#length\">Vector &rtrif; length</a>"},{"title":"Vector#scale","link":"<a href=\"Vector.html#scale\">Vector &rtrif; scale</a>"},{"title":"Vector#sub","link":"<a href=\"Vector.html#sub\">Vector &rtrif; sub</a>"}];
  var options = 
  setupSearch(list, options)
</script>

 






</body>
</html>
